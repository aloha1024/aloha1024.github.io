---
layout: post
title: 四层,七层负载均衡的区别
subtitle: "none"
date: 2019-07-06
author: "aloha1024"
catalog: true
tags:
    - WEB
---

四层负载均衡就是基于IP+端口的
七层就是基于url等应用层信息的负载均衡
还有基于mac地址的二层负载均衡和基于ip地址的三层负载均衡

二层负载均衡会通过一个虚拟mac地址接受请求,然后分配到真实的mac地址
三层负载均衡会通过一个虚拟IP地址接受请求,然后分配到真实的ip地址
四层负载均衡会通过虚拟ip+端口接受请求,然后分配到真实的服务器
七层通过虚拟的url或主机名接受请求,然后再分配到真实的服务器


四到七层负载均衡,就是在对后台的服务器进行负载均衡时,依据四层的信息或七层的信息来决定怎样转发流量

四层的负载均衡就是通过发布三层ip的地址,然后加四层的端口号,来决定哪些流量需要做服下均衡,对需要处理的流量进行nat处理,转发至后台服务器,并记录下这个tcp或者udp的流量是由哪台服务器处理的,后续这个链接的所有流量都同样转发到同一台服务器处理

七层的负载均衡,就是在四层的基础上(没有四层就不可能有七层),再考虑应用层特性,比如同一个web服务器的负载均衡,除了根据vip加80端口辨别是否需要处理的流量,还可根据七层的url,浏览器类别,语言来决定是否需要进行负载均衡.

如果你的web服务器分成两组,一组是中文语言的一组是英文语言的,那么七层负载均衡就可以当用户来访问你的域名时,自动辨别用户语言,然后选择对应语言服务器进行负载均衡处理